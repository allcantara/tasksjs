{"version":3,"sources":["views/List/ItemTypes/index.js","views/List/Card/index.js","views/List/index.js","views/Add/index.js","views/Container.js","routes.js","App.js","index.js"],"names":["Card","id","text","index","moveCard","useContext","AppContext","tasks","setTasks","ref","useRef","useDrop","accept","ItemTypes","hover","item","monitor","current","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","drop","useDrag","type","collect","isDragging","opacity","drag","style","className","onClick","list","filter","task","handleDeleteTask","color","Container","useCallback","dragCard","update","$splice","map","i","key","useState","setText","handleAdd","trim","Math","random","useEffect","localStorage","getItem","taskArray","JSON","parse","clear","setItem","stringify","placeholder","value","onChange","e","target","onKeyPress","createContext","DndProvider","backend","Backend","Provider","Add","List","path","exact","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d27e15e6.chunk.js","sourcesContent":["export default {\n  CARD: \"card\",\n};\n","import React, { useRef, useContext } from \"react\";\nimport { FiTrash } from \"react-icons/fi\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport ItemTypes from \"../ItemTypes\";\n\nimport { AppContext } from \"../../Container\";\n\nconst Card = ({ id, text, index, moveCard }) => {\n  const { tasks, setTasks } = useContext(AppContext);\n\n  const ref = useRef(null);\n  const [, drop] = useDrop({\n    accept: ItemTypes.CARD,\n    hover(item, monitor) {\n      if (!ref.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = index;\n      // Não substitua itens por eles mesmos\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n      // Determinar retângulo em seixos\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\n      // Obter meio vertical\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n      // Determinar a posição do mouse\n      const clientOffset = monitor.getClientOffset();\n      // Colocar os pixels no topo\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n      // Faça o movimento apenas quando o mouse tiver cruzado metade da altura dos itens\n      // Ao arrastar para baixo, mova-se apenas quando o cursor estiver abaixo de 50%\n      // Ao arrastar para cima, mova-se apenas quando o cursor estiver acima de 50%\n      // Arrastando para baixo\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n      // Arrastando para cima\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n      // Hora de realmente executar a ação\n      moveCard(dragIndex, hoverIndex);\n      // Nota: estamos alterando o item do monitor aqui!\n      // Geralmente é melhor evitar mutações,\n      // mas é bom aqui por uma questão de desempenho\n      // para evitar pesquisas caras de índice.\n      item.index = hoverIndex;\n    },\n  });\n\n  const [{ isDragging }, drag] = useDrag({\n    item: { type: ItemTypes.CARD, id, index },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  const opacity = isDragging ? 0 : 1;\n  drag(drop(ref));\n\n  function handleDeleteTask(item) {\n    const list = tasks.filter((task) => task.id !== item.id);\n    setTasks([...list]);\n  }\n\n  return (\n    <li ref={ref} style={{ opacity }} className=\"list-group-item\">\n      {text}\n      <button\n        className=\"button-none\"\n        onClick={() => handleDeleteTask({ id, text })}\n      >\n        <FiTrash color=\"#fff\" />\n      </button>\n    </li>\n  );\n};\n\nexport default Card;\n","import React, { useContext, useCallback } from \"react\";\nimport update from \"immutability-helper\";\nimport Card from \"./Card\";\n\nimport { AppContext } from \"../Container\";\n\nconst Container = () => {\n  const { tasks, setTasks } = useContext(AppContext);\n\n  const moveCard = useCallback(\n    (dragIndex, hoverIndex) => {\n      const dragCard = tasks[dragIndex];\n      setTasks(\n        update(tasks, {\n          $splice: [\n            [dragIndex, 1],\n            [hoverIndex, 0, dragCard],\n          ],\n        })\n      );\n    },\n    [tasks]\n  );\n\n  return (\n    <div className=\"list-area\">\n      <ul className=\"list-group list-group-flush\" id=\"ul-list\">\n        {tasks.map((task, i) => (\n          <Card\n            key={task.id}\n            index={i}\n            id={task.id}\n            text={task.text}\n            moveCard={moveCard}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\nexport default Container;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { FiPlus } from \"react-icons/fi\";\nimport { AppContext } from \"../Container\";\n\nexport default () => {\n  const { setTasks, tasks } = useContext(AppContext);\n  const [text, setText] = useState(\"\");\n\n  useEffect(() => {\n    const list = getListLocalStorage();\n    if (list) {\n      const taskArray = JSON.parse(list);\n      setTasks([...taskArray]);\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.clear();\n    localStorage.setItem(\"TASKS\", JSON.stringify(tasks));\n  }, [tasks]);\n\n  function handleAdd() {\n    if (!text.trim()) return;\n    setTasks([{ id: Math.random(4), text }, ...tasks]);\n    setText(\"\");\n  }\n\n  function handleEnter(event) {\n    if (event.key === \"Enter\") {\n      handleAdd();\n    }\n  }\n\n  function getListLocalStorage() {\n    return localStorage.getItem(\"TASKS\");\n  }\n\n  return (\n    <div className=\"d-flex py-3\">\n      <input\n        type=\"text\"\n        className=\"mr-2 input-text\"\n        placeholder=\"Nova tarefa...\"\n        id=\"input-task\"\n        value={text}\n        onChange={(e) => setText(e.target.value)}\n        onKeyPress={(e) => handleEnter(e)}\n      />\n      <button\n        className=\"btn button-add\"\n        id=\"btn-add\"\n        onClick={() => handleAdd()}\n      >\n        <FiPlus color=\"rgb(25, 24, 31)\" />\n      </button>\n    </div>\n  );\n};\n","import React, { useState, createContext } from \"react\";\nimport { DndProvider } from \"react-dnd\";\nimport Backend from \"react-dnd-html5-backend\";\nimport List from \"./List\";\nimport Add from \"./Add\";\n\nexport const AppContext = createContext();\n\nfunction Container() {\n  const [tasks, setTasks] = useState([]);\n\n  return (\n    <DndProvider backend={Backend}>\n      <AppContext.Provider value={{ tasks, setTasks }}>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-8 offset-md-2\">\n              <h1 className=\"title\">Tarefas diárias</h1>\n              <span className=\"tip\">\n                Utilize o mouse para arrastar/soltar e ordene a lista da maneira\n                que desejar.\n              </span>\n              <Add />\n              <List />\n            </div>\n          </div>\n        </div>\n      </AppContext.Provider>\n    </DndProvider>\n  );\n}\n\nexport default Container;\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport List from \"./views/Container\";\n\nexport default () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact component={List} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n","import React from \"react\";\nimport Route from \"./routes\";\nimport \"./global.css\";\n\nfunction App() {\n  return <Route />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}